@startuml

hide circle

!define primary_key(x) <b><color:#b8861b><&key></color> x</b>
!define foreign_key(x) <color:#aaaaaa><&key></color> x
!define column(x) <color:#efefef><&media-record></color> x
!define table(x) entity x << (T, white) >>

table(owners) {
        primary_key(owner_id): UUID <<PK>>
        --
        column(name): VARCHAR(100) NOT NULL
        column(phone): VARCHAR(20) NOT NULL
        column(email): VARCHAR(100) NOT NULL, UNIQUE
        column(address): VARCHAR(200) NOT NULL
    }

table(pets) {
        primary_key(pet_id): UUID <<PK>>
        foreign_key(species_id)
        foreign_key(breed_id)
        foreign_key(owner_id)
        --
        column(name): VARCHAR(50) NOT NULL
        column(birth_date): DATE NOT NULL
    }


table(appointments) {
    primary_key(appointment_id): UUID <<PK>>
    foreign_key(pet_id)
    foreign_key(vet_id)
    --
    column(date_time): TIMESTAMP NOT NULL
    column(reason): VARCHAR(200) NOT NULL
    column(cost): DECIMAL(10,2) NOT NULL
    }

table(invoices) {
    primary_key(invoice_id): UUID <<PK>>
    foreign_key(appointment_id)
    --
    column(issue_date): DATE NOT NULL
    column(total): DECIMAL(10,2) NOT NULL
    column(payment_method): ENUM('cash', 'credit_card', 'debit_card', 'bank_transfer')
    }

owners ||--o{ pets
pets ||--o{ appointments
appointments ||--|| invoices
@enduml
